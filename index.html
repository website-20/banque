
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion Bancaire Pro - Solution Complète</title>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --danger-color: #e74c3c;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --personal-color: #9b59b6;
            --business-color: #1abc9c;
            --offshore-color: #34495e;
            --simulation-color: #e67e22;
            --admin-color: #8e44ad;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1, h2, h3 {
            color: var(--secondary-color);
            margin-bottom: 20px;
        }
        
        /* Header Styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            border-bottom: 1px solid #ddd;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        
        /* Simulation Panel */
        .simulation-panel {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border-top: 4px solid var(--simulation-color);
            background: linear-gradient(to bottom, #ffffff, #f9f9f9);
        }
        
        .simulation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .simulation-title {
            font-size: 1.5rem;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }
        
        .simulation-title i {
            color: var(--simulation-color);
            margin-right: 10px;
        }
        
        .simulation-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .simulation-stats {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .simulation-stat {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #e0e0e0;
        }
        
        .simulation-stat:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .simulation-stat h4 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .simulation-stat .value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .simulation-events {
            margin-top: 20px;
        }
        
        .event-log {
            height: 200px;
            overflow-y: auto;
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-top: 10px;
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }
        
        .event-entry {
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .event-entry:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .event-date {
            font-size: 0.8rem;
            color: #777;
            font-weight: 500;
        }
        
        .event-message {
            margin-top: 3px;
        }
        
        /* Dashboard Styles */
        .dashboard-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .dashboard-container {
                grid-template-columns: 1fr;
            }
        }
        
        .dashboard {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }
        
        .dashboard:hover {
            transform: translateY(-3px);
        }
        
        .dashboard.personal {
            border-top: 4px solid var(--personal-color);
        }
        
        .dashboard.business {
            border-top: 4px solid var(--business-color);
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .dashboard-title {
            font-size: 1.5rem;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }
        
        .dashboard-title i {
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .personal .dashboard-title i {
            color: var(--personal-color);
        }
        
        .business .dashboard-title i {
            color: var(--business-color);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid #e0e0e0;
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
        }
        
        .stat-card h4 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .stat-card .amount {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .positive {
            color: var(--success-color);
        }
        
        .negative {
            color: var(--danger-color);
        }
        
        /* Tabs Styles */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            background: #eee;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .tab:hover {
            background: #ddd;
        }
        
        .tab.active {
            background: var(--secondary-color);
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 25px;
            background: white;
            border-radius: 0 var(--border-radius) var(--border-radius) var(--border-radius);
            box-shadow: var(--shadow);
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Button Styles */
        button {
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button.delete {
            background: var(--danger-color);
        }
        
        button.delete:hover {
            background: #c0392b;
        }
        
        button.success {
            background: var(--success-color);
        }
        
        button.success:hover {
            background: #27ae60;
        }
        
        button.warning {
            background: var(--warning-color);
        }
        
        button.warning:hover {
            background: #d35400;
        }
        
        button.personal {
            background: var(--personal-color);
        }
        
        button.personal:hover {
            background: #8e44ad;
        }
        
        button.business {
            background: var(--business-color);
        }
        
        button.business:hover {
            background: #16a085;
        }
        
        button.offshore {
            background: var(--offshore-color);
        }
        
        button.offshore:hover {
            background: #2c3e50;
        }
        
        button.simulation {
            background: var(--simulation-color);
        }
        
        button.simulation:hover {
            background: #d35400;
        }
        
        button.admin {
            background: var(--admin-color);
        }
        
        button.admin:hover {
            background: #7d3c98;
        }
        
        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            box-shadow: var(--shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
            background: white;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: var(--secondary-color);
            color: white;
            font-weight: 500;
            position: sticky;
            top: 0;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        .account-personal {
            border-left: 4px solid var(--personal-color);
        }
        
        .account-business {
            border-left: 4px solid var(--business-color);
        }
        
        .account-offshore {
            border-left: 4px solid var(--offshore-color);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-title {
            margin-bottom: 20px;
            color: var(--secondary-color);
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-color);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            transition: border 0.3s ease;
            font-size: 1rem;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 25px;
            gap: 10px;
        }
        
        /* Badges */
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
        }
        
        .badge-personal {
            background: var(--personal-color);
        }
        
        .badge-business {
            background: var(--business-color);
        }
        
        .badge-offshore {
            background: var(--offshore-color);
        }
        
        .badge-simulation {
            background: var(--simulation-color);
        }
        
        .badge-admin {
            background: var(--admin-color);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-radius: 0;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .simulation-controls {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        
        /* Icons */
        .icon {
            margin-right: 8px;
        }
        
        /* Business Stats */
        .business-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .business-stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid #e0e0e0;
            transition: transform 0.3s ease;
        }
        
        .business-stat-card:hover {
            transform: translateY(-3px);
        }
        
        .business-stat-card h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--secondary-color);
        }
        
        /* Admin Panel */
        .admin-panel {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-top: 20px;
            border-top: 4px solid var(--admin-color);
        }
        
        .data-section {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .data-section:last-child {
            border-bottom: none;
        }
        
        .data-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .json-viewer {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: var(--border-radius);
            font-family: monospace;
            max-height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
            margin-bottom: 10px;
        }
        
        .admin-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        /* File Input */
        .file-input-container {
            position: relative;
            overflow: hidden;
            display: inline-block;
        }
        
        .file-input {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        /* Progress bar */
        .progress-container {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--success-color);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        /* Custom scrollbar */
        .event-log::-webkit-scrollbar,
        .json-viewer::-webkit-scrollbar {
            width: 8px;
        }
        
        .event-log::-webkit-scrollbar-track,
        .json-viewer::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        .event-log::-webkit-scrollbar-thumb,
        .json-viewer::-webkit-scrollbar-thumb {
            background: #c5c5c5;
            border-radius: 4px;
        }
        
        .event-log::-webkit-scrollbar-thumb:hover,
        .json-viewer::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        .json-viewer::-webkit-scrollbar-thumb {
            background: #7f8c8d;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-chart-line icon"></i>Gestion Bancaire Pro</h1>
            <div>
                <button id="add-income" class="success"><i class="fas fa-plus-circle icon"></i>Transaction</button>
                <button id="admin-btn" class="admin"><i class="fas fa-cog icon"></i>Admin</button>
            </div>
        </div>
        
        <!-- Simulation Panel -->
        <div class="simulation-panel">
            <div class="simulation-header">
                <h2 class="simulation-title"><i class="fas fa-business-time"></i> Simulation Économique</h2>
                <div class="simulation-controls">
                    <button id="start-simulation" class="simulation"><i class="fas fa-play icon"></i>Démarrer</button>
                    <button id="pause-simulation" class="warning" disabled><i class="fas fa-pause icon"></i>Pause</button>
                    <button id="stop-simulation" class="delete" disabled><i class="fas fa-stop icon"></i>Arrêter</button>
                    <button id="next-month" class="simulation"><i class="fas fa-forward icon"></i>Mois Suivant</button>
                </div>
            </div>
            
            <div class="simulation-stats">
                <div class="simulation-stat">
                    <h4>Mois en cours</h4>
                    <div class="value" id="current-month">Mois 1</div>
                </div>
                <div class="simulation-stat">
                    <h4>Revenus Personnels</h4>
                    <div class="value positive" id="personal-income">0 €</div>
                </div>
                <div class="simulation-stat">
                    <h4>Dépenses Personnelles</h4>
                    <div class="value negative" id="personal-expenses">0 €</div>
                </div>
                <div class="simulation-stat">
                    <h4>Revenus Professionnels</h4>
                    <div class="value positive" id="business-income">0 €</div>
                </div>
                <div class="simulation-stat">
                    <h4>Dépenses Professionnelles</h4>
                    <div class="value negative" id="business-expenses">0 €</div>
                </div>
            </div>
            
            <div class="simulation-events">
                <h4><i class="fas fa-list-alt icon"></i>Événements Récent</h4>
                <div class="event-log" id="event-log">
                    <div class="event-entry">
                        <div class="event-date">[Système]</div>
                        <div class="event-message">Prêt à démarrer la simulation...</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Dashboards -->
        <div class="dashboard-container">
            <div class="dashboard personal">
                <div class="dashboard-header">
                    <h2 class="dashboard-title"><i class="fas fa-user-tie"></i> Finances Personnelles</h2>
                    <button id="add-personal-account" class="personal"><i class="fas fa-plus icon"></i>Compte Personnel</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>Solde Total</h4>
                        <div class="amount positive" id="personal-total-balance">0.00 €</div>
                    </div>
                    <div class="stat-card">
                        <h4>Nombre de Comptes</h4>
                        <div class="amount" id="personal-accounts-count">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Revenus Mensuels</h4>
                        <div class="amount positive" id="personal-monthly-income">0.00 €</div>
                    </div>
                    <div class="stat-card">
                        <h4>Dépenses Mensuelles</h4>
                        <div class="amount negative" id="personal-monthly-expenses">0.00 €</div>
                    </div>
                </div>
            </div>
            
            <div class="dashboard business">
                <div class="dashboard-header">
                    <h2 class="dashboard-title"><i class="fas fa-briefcase"></i> Finances Professionnelles</h2>
                    <button id="add-business-account" class="business"><i class="fas fa-plus icon"></i>Compte Professionnel</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>Solde Total</h4>
                        <div class="amount positive" id="business-total-balance">0.00 €</div>
                    </div>
                    <div class="stat-card">
                        <h4>Nombre de Comptes</h4>
                        <div class="amount" id="business-accounts-count">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Chiffre d'Affaires</h4>
                        <div class="amount positive" id="business-revenue">0.00 €</div>
                    </div>
                    <div class="stat-card">
                        <h4>Dépenses Opérationnelles</h4>
                        <div class="amount negative" id="business-operational-expenses">0.00 €</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="banks">Banques</div>
            <div class="tab" data-tab="accounts">Tous les Comptes</div>
            <div class="tab" data-tab="transfers">Virements</div>
            <div class="tab" data-tab="transactions">Transactions</div>
            <div class="tab" data-tab="business">Entreprise</div>
            <div class="tab" data-tab="admin"><i class="fas fa-cog"></i> Administration</div>
        </div>
        
        <!-- Section Banques -->
        <div id="banks" class="tab-content active">
            <h2><i class="fas fa-university icon"></i>Gestion des Banques</h2>
            <button id="add-bank"><i class="fas fa-plus icon"></i>Ajouter une Banque</button>
            <table id="banks-table">
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Code</th>
                        <th>Pays</th>
                        <th>Type</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Comptes -->
        <div id="accounts" class="tab-content">
            <h2><i class="fas fa-wallet icon"></i>Tous les Comptes</h2>
            <div class="filter-buttons">
                <button class="active" data-filter="all">Tous</button>
                <button data-filter="personal">Personnels</button>
                <button data-filter="business">Professionnels</button>
                <button data-filter="offshore">Offshore</button>
            </div>
            <table id="accounts-table">
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Type</th>
                        <th>Banque</th>
                        <th>Solde</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Virements -->
        <div id="transfers" class="tab-content">
            <h2><i class="fas fa-exchange-alt icon"></i>Gestion des Virements</h2>
            <button id="add-transfer"><i class="fas fa-plus icon"></i>Programmer un Virement</button>
            <button id="add-offshore-transfer" class="offshore"><i class="fas fa-globe icon"></i>Virement Offshore</button>
            <table id="transfers-table">
                <thead>
                    <tr>
                        <th>De</th>
                        <th>Vers</th>
                        <th>Montant</th>
                        <th>Type</th>
                        <th>Fréquence</th>
                        <th>Prochain</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Transactions -->
        <div id="transactions" class="tab-content">
            <h2><i class="fas fa-list-alt icon"></i>Historique des Transactions</h2>
            <div class="filter-buttons">
                <button class="active" data-filter="all">Toutes</button>
                <button data-filter="income">Entrées</button>
                <button data-filter="expense">Dépenses</button>
                <button data-filter="transfer">Virements</button>
                <button data-filter="business">Professionnelles</button>
            </div>
            <table id="transactions-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Description</th>
                        <th>Compte</th>
                        <th>Banque</th>
                        <th>Montant</th>
                        <th>Catégorie</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Entreprise -->
        <div id="business" class="tab-content">
            <h2><i class="fas fa-building icon"></i>Gestion d'Entreprise</h2>
            <div class="business-controls">
                <button id="hire-employee" class="business"><i class="fas fa-user-plus icon"></i>Embaucher</button>
                <button id="buy-equipment" class="business"><i class="fas fa-tools icon"></i>Acheter du Matériel</button>
                <button id="launch-campaign" class="business"><i class="fas fa-bullhorn icon"></i>Lancer une Campagne</button>
            </div>
            
            <div class="business-stats">
                <div class="business-stat-card">
                    <h3><i class="fas fa-users"></i> Employés</h3>
                    <div id="employee-count" style="font-size: 1.8rem; font-weight: bold; text-align: center;">0</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Salaire Mensuel:</span>
                        <span id="employee-salaries">0 €</span>
                    </div>
                </div>
                
                <div class="business-stat-card">
                    <h3><i class="fas fa-tools"></i> Matériel</h3>
                    <div id="equipment-value" style="font-size: 1.8rem; font-weight: bold; text-align: center;">0 €</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Amortissement:</span>
                        <span id="equipment-depreciation">0 €/mois</span>
                    </div>
                </div>
                
                <div class="business-stat-card">
                    <h3><i class="fas fa-chart-line"></i> Performance</h3>
                    <div id="business-performance" style="font-size: 1.8rem; font-weight: bold; text-align: center;">Stable</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Clients:</span>
                        <span id="customer-count">0</span>
                    </div>
                </div>
                
                <div class="business-stat-card">
                    <h3><i class="fas fa-bullhorn"></i> Marketing</h3>
                    <div id="marketing-impact" style="font-size: 1.8rem; font-weight: bold; text-align: center;">0%</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Campagne en cours:</span>
                        <span id="current-campaign">Aucune</span>
                    </div>
                </div>
            </div>
            
            <h3 style="margin-top: 30px;"><i class="fas fa-history icon"></i>Activités Récentes</h3>
            <table id="business-activity-table" style="margin-top: 15px;">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Action</th>
                        <th>Compte</th>
                        <th>Coût</th>
                        <th>Impact</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Admin -->
        <div id="admin" class="tab-content">
            <h2><i class="fas fa-cog icon"></i> Administration des Données</h2>
            
            <div class="admin-panel">
                <h3><i class="fas fa-database icon"></i> Gestion des Données</h3>
                
                <div class="admin-buttons">
                    <button id="export-all" class="admin"><i class="fas fa-file-export"></i> Exporter toutes les données</button>
                    <button id="import-all" class="admin"><i class="fas fa-file-import"></i> Importer des données</button>
                    <button id="reset-data" class="delete"><i class="fas fa-trash"></i> Réinitialiser toutes les données</button>
                </div>
                
                <div class="progress-container" style="margin-top: 15px;">
                    <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="admin-panel">
                <h3><i class="fas fa-file-code icon"></i> Fichiers JSON</h3>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-university"></i> Banques</h4>
                        <div>
                            <button class="export-btn" data-type="banks"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="banks" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="banks-json">Aucune donnée</div>
                </div>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-wallet"></i> Comptes</h4>
                        <div>
                            <button class="export-btn" data-type="accounts"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="accounts" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="accounts-json">Aucune donnée</div>
                </div>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-exchange-alt"></i> Virements</h4>
                        <div>
                            <button class="export-btn" data-type="transfers"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="transfers" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="transfers-json">Aucune donnée</div>
                </div>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-list-alt"></i> Transactions</h4>
                        <div>
                            <button class="export-btn" data-type="transactions"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="transactions" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="transactions-json">Aucune donnée</div>
                </div>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-chart-line"></i> Simulation</h4>
                        <div>
                            <button class="export-btn" data-type="simulation"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="simulation" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="simulation-json">Aucune donnée</div>
                </div>
            </div>
        </div>
        
        <!-- Modals -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <div id="modal-body"></div>
                <div class="actions">
                    <button id="cancel">Annuler</button>
                    <button id="save">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>
    
   <!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion Bancaire Pro - Solution Complète</title>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --danger-color: #e74c3c;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --personal-color: #9b59b6;
            --business-color: #1abc9c;
            --offshore-color: #34495e;
            --simulation-color: #e67e22;
            --admin-color: #8e44ad;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1, h2, h3 {
            color: var(--secondary-color);
            margin-bottom: 20px;
        }
        
        /* Header Styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            border-bottom: 1px solid #ddd;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        
        /* Simulation Panel */
        .simulation-panel {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border-top: 4px solid var(--simulation-color);
            background: linear-gradient(to bottom, #ffffff, #f9f9f9);
        }
        
        .simulation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .simulation-title {
            font-size: 1.5rem;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }
        
        .simulation-title i {
            color: var(--simulation-color);
            margin-right: 10px;
        }
        
        .simulation-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .simulation-stats {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .simulation-stat {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #e0e0e0;
        }
        
        .simulation-stat:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .simulation-stat h4 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .simulation-stat .value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .simulation-events {
            margin-top: 20px;
        }
        
        .event-log {
            height: 200px;
            overflow-y: auto;
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-top: 10px;
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }
        
        .event-entry {
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .event-entry:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .event-date {
            font-size: 0.8rem;
            color: #777;
            font-weight: 500;
        }
        
        .event-message {
            margin-top: 3px;
        }
        
        /* Dashboard Styles */
        .dashboard-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .dashboard-container {
                grid-template-columns: 1fr;
            }
        }
        
        .dashboard {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }
        
        .dashboard:hover {
            transform: translateY(-3px);
        }
        
        .dashboard.personal {
            border-top: 4px solid var(--personal-color);
        }
        
        .dashboard.business {
            border-top: 4px solid var(--business-color);
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .dashboard-title {
            font-size: 1.5rem;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }
        
        .dashboard-title i {
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .personal .dashboard-title i {
            color: var(--personal-color);
        }
        
        .business .dashboard-title i {
            color: var(--business-color);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid #e0e0e0;
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
        }
        
        .stat-card h4 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .stat-card .amount {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .positive {
            color: var(--success-color);
        }
        
        .negative {
            color: var(--danger-color);
        }
        
        /* Tabs Styles */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            background: #eee;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .tab:hover {
            background: #ddd;
        }
        
        .tab.active {
            background: var(--secondary-color);
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 25px;
            background: white;
            border-radius: 0 var(--border-radius) var(--border-radius) var(--border-radius);
            box-shadow: var(--shadow);
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Button Styles */
        button {
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button.delete {
            background: var(--danger-color);
        }
        
        button.delete:hover {
            background: #c0392b;
        }
        
        button.success {
            background: var(--success-color);
        }
        
        button.success:hover {
            background: #27ae60;
        }
        
        button.warning {
            background: var(--warning-color);
        }
        
        button.warning:hover {
            background: #d35400;
        }
        
        button.personal {
            background: var(--personal-color);
        }
        
        button.personal:hover {
            background: #8e44ad;
        }
        
        button.business {
            background: var(--business-color);
        }
        
        button.business:hover {
            background: #16a085;
        }
        
        button.offshore {
            background: var(--offshore-color);
        }
        
        button.offshore:hover {
            background: #2c3e50;
        }
        
        button.simulation {
            background: var(--simulation-color);
        }
        
        button.simulation:hover {
            background: #d35400;
        }
        
        button.admin {
            background: var(--admin-color);
        }
        
        button.admin:hover {
            background: #7d3c98;
        }
        
        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            box-shadow: var(--shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
            background: white;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: var(--secondary-color);
            color: white;
            font-weight: 500;
            position: sticky;
            top: 0;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        .account-personal {
            border-left: 4px solid var(--personal-color);
        }
        
        .account-business {
            border-left: 4px solid var(--business-color);
        }
        
        .account-offshore {
            border-left: 4px solid var(--offshore-color);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-title {
            margin-bottom: 20px;
            color: var(--secondary-color);
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-color);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            transition: border 0.3s ease;
            font-size: 1rem;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 25px;
            gap: 10px;
        }
        
        /* Badges */
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
        }
        
        .badge-personal {
            background: var(--personal-color);
        }
        
        .badge-business {
            background: var(--business-color);
        }
        
        .badge-offshore {
            background: var(--offshore-color);
        }
        
        .badge-simulation {
            background: var(--simulation-color);
        }
        
        .badge-admin {
            background: var(--admin-color);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-radius: 0;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .simulation-controls {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        
        /* Icons */
        .icon {
            margin-right: 8px;
        }
        
        /* Business Stats */
        .business-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .business-stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid #e0e0e0;
            transition: transform 0.3s ease;
        }
        
        .business-stat-card:hover {
            transform: translateY(-3px);
        }
        
        .business-stat-card h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--secondary-color);
        }
        
        /* Admin Panel */
        .admin-panel {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-top: 20px;
            border-top: 4px solid var(--admin-color);
        }
        
        .data-section {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .data-section:last-child {
            border-bottom: none;
        }
        
        .data-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .json-viewer {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: var(--border-radius);
            font-family: monospace;
            max-height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
            margin-bottom: 10px;
        }
        
        .admin-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        /* File Input */
        .file-input-container {
            position: relative;
            overflow: hidden;
            display: inline-block;
        }
        
        .file-input {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        /* Progress bar */
        .progress-container {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--success-color);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        /* Custom scrollbar */
        .event-log::-webkit-scrollbar,
        .json-viewer::-webkit-scrollbar {
            width: 8px;
        }
        
        .event-log::-webkit-scrollbar-track,
        .json-viewer::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        .event-log::-webkit-scrollbar-thumb,
        .json-viewer::-webkit-scrollbar-thumb {
            background: #c5c5c5;
            border-radius: 4px;
        }
        
        .event-log::-webkit-scrollbar-thumb:hover,
        .json-viewer::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        .json-viewer::-webkit-scrollbar-thumb {
            background: #7f8c8d;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-chart-line icon"></i>Gestion Bancaire Pro</h1>
            <div>
                <button id="add-income" class="success"><i class="fas fa-plus-circle icon"></i>Transaction</button>
                <button id="admin-btn" class="admin"><i class="fas fa-cog icon"></i>Admin</button>
            </div>
        </div>
        
        <!-- Simulation Panel -->
        <div class="simulation-panel">
            <div class="simulation-header">
                <h2 class="simulation-title"><i class="fas fa-business-time"></i> Simulation Économique</h2>
                <div class="simulation-controls">
                    <button id="start-simulation" class="simulation"><i class="fas fa-play icon"></i>Démarrer</button>
                    <button id="pause-simulation" class="warning" disabled><i class="fas fa-pause icon"></i>Pause</button>
                    <button id="stop-simulation" class="delete" disabled><i class="fas fa-stop icon"></i>Arrêter</button>
                    <button id="next-month" class="simulation"><i class="fas fa-forward icon"></i>Mois Suivant</button>
                </div>
            </div>
            
            <div class="simulation-stats">
                <div class="simulation-stat">
                    <h4>Mois en cours</h4>
                    <div class="value" id="current-month">Mois 1</div>
                </div>
                <div class="simulation-stat">
                    <h4>Revenus Personnels</h4>
                    <div class="value positive" id="personal-income">0 €</div>
                </div>
                <div class="simulation-stat">
                    <h4>Dépenses Personnelles</h4>
                    <div class="value negative" id="personal-expenses">0 €</div>
                </div>
                <div class="simulation-stat">
                    <h4>Revenus Professionnels</h4>
                    <div class="value positive" id="business-income">0 €</div>
                </div>
                <div class="simulation-stat">
                    <h4>Dépenses Professionnelles</h4>
                    <div class="value negative" id="business-expenses">0 €</div>
                </div>
            </div>
            
            <div class="simulation-events">
                <h4><i class="fas fa-list-alt icon"></i>Événements Récent</h4>
                <div class="event-log" id="event-log">
                    <div class="event-entry">
                        <div class="event-date">[Système]</div>
                        <div class="event-message">Prêt à démarrer la simulation...</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Dashboards -->
        <div class="dashboard-container">
            <div class="dashboard personal">
                <div class="dashboard-header">
                    <h2 class="dashboard-title"><i class="fas fa-user-tie"></i> Finances Personnelles</h2>
                    <button id="add-personal-account" class="personal"><i class="fas fa-plus icon"></i>Compte Personnel</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>Solde Total</h4>
                        <div class="amount positive" id="personal-total-balance">0.00 €</div>
                    </div>
                    <div class="stat-card">
                        <h4>Nombre de Comptes</h4>
                        <div class="amount" id="personal-accounts-count">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Revenus Mensuels</h4>
                        <div class="amount positive" id="personal-monthly-income">0.00 €</div>
                    </div>
                    <div class="stat-card">
                        <h4>Dépenses Mensuelles</h4>
                        <div class="amount negative" id="personal-monthly-expenses">0.00 €</div>
                    </div>
                </div>
            </div>
            
            <div class="dashboard business">
                <div class="dashboard-header">
                    <h2 class="dashboard-title"><i class="fas fa-briefcase"></i> Finances Professionnelles</h2>
                    <button id="add-business-account" class="business"><i class="fas fa-plus icon"></i>Compte Professionnel</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>Solde Total</h4>
                        <div class="amount positive" id="business-total-balance">0.00 €</div>
                    </div>
                    <div class="stat-card">
                        <h4>Nombre de Comptes</h4>
                        <div class="amount" id="business-accounts-count">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Chiffre d'Affaires</h4>
                        <div class="amount positive" id="business-revenue">0.00 €</div>
                    </div>
                    <div class="stat-card">
                        <h4>Dépenses Opérationnelles</h4>
                        <div class="amount negative" id="business-operational-expenses">0.00 €</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="banks">Banques</div>
            <div class="tab" data-tab="accounts">Tous les Comptes</div>
            <div class="tab" data-tab="transfers">Virements</div>
            <div class="tab" data-tab="transactions">Transactions</div>
            <div class="tab" data-tab="business">Entreprise</div>
            <div class="tab" data-tab="admin"><i class="fas fa-cog"></i> Administration</div>
        </div>
        
        <!-- Section Banques -->
        <div id="banks" class="tab-content active">
            <h2><i class="fas fa-university icon"></i>Gestion des Banques</h2>
            <button id="add-bank"><i class="fas fa-plus icon"></i>Ajouter une Banque</button>
            <table id="banks-table">
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Code</th>
                        <th>Pays</th>
                        <th>Type</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Comptes -->
        <div id="accounts" class="tab-content">
            <h2><i class="fas fa-wallet icon"></i>Tous les Comptes</h2>
            <div class="filter-buttons">
                <button class="active" data-filter="all">Tous</button>
                <button data-filter="personal">Personnels</button>
                <button data-filter="business">Professionnels</button>
                <button data-filter="offshore">Offshore</button>
            </div>
            <table id="accounts-table">
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Type</th>
                        <th>Banque</th>
                        <th>Solde</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Virements -->
        <div id="transfers" class="tab-content">
            <h2><i class="fas fa-exchange-alt icon"></i>Gestion des Virements</h2>
            <button id="add-transfer"><i class="fas fa-plus icon"></i>Programmer un Virement</button>
            <button id="add-offshore-transfer" class="offshore"><i class="fas fa-globe icon"></i>Virement Offshore</button>
            <table id="transfers-table">
                <thead>
                    <tr>
                        <th>De</th>
                        <th>Vers</th>
                        <th>Montant</th>
                        <th>Type</th>
                        <th>Fréquence</th>
                        <th>Prochain</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Transactions -->
        <div id="transactions" class="tab-content">
            <h2><i class="fas fa-list-alt icon"></i>Historique des Transactions</h2>
            <div class="filter-buttons">
                <button class="active" data-filter="all">Toutes</button>
                <button data-filter="income">Entrées</button>
                <button data-filter="expense">Dépenses</button>
                <button data-filter="transfer">Virements</button>
                <button data-filter="business">Professionnelles</button>
            </div>
            <table id="transactions-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Description</th>
                        <th>Compte</th>
                        <th>Banque</th>
                        <th>Montant</th>
                        <th>Catégorie</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Entreprise -->
        <div id="business" class="tab-content">
            <h2><i class="fas fa-building icon"></i>Gestion d'Entreprise</h2>
            <div class="business-controls">
                <button id="hire-employee" class="business"><i class="fas fa-user-plus icon"></i>Embaucher</button>
                <button id="buy-equipment" class="business"><i class="fas fa-tools icon"></i>Acheter du Matériel</button>
                <button id="launch-campaign" class="business"><i class="fas fa-bullhorn icon"></i>Lancer une Campagne</button>
            </div>
            
            <div class="business-stats">
                <div class="business-stat-card">
                    <h3><i class="fas fa-users"></i> Employés</h3>
                    <div id="employee-count" style="font-size: 1.8rem; font-weight: bold; text-align: center;">0</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Salaire Mensuel:</span>
                        <span id="employee-salaries">0 €</span>
                    </div>
                </div>
                
                <div class="business-stat-card">
                    <h3><i class="fas fa-tools"></i> Matériel</h3>
                    <div id="equipment-value" style="font-size: 1.8rem; font-weight: bold; text-align: center;">0 €</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Amortissement:</span>
                        <span id="equipment-depreciation">0 €/mois</span>
                    </div>
                </div>
                
                <div class="business-stat-card">
                    <h3><i class="fas fa-chart-line"></i> Performance</h3>
                    <div id="business-performance" style="font-size: 1.8rem; font-weight: bold; text-align: center;">Stable</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Clients:</span>
                        <span id="customer-count">0</span>
                    </div>
                </div>
                
                <div class="business-stat-card">
                    <h3><i class="fas fa-bullhorn"></i> Marketing</h3>
                    <div id="marketing-impact" style="font-size: 1.8rem; font-weight: bold; text-align: center;">0%</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Campagne en cours:</span>
                        <span id="current-campaign">Aucune</span>
                    </div>
                </div>
            </div>
            
            <h3 style="margin-top: 30px;"><i class="fas fa-history icon"></i>Activités Récentes</h3>
            <table id="business-activity-table" style="margin-top: 15px;">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Action</th>
                        <th>Compte</th>
                        <th>Coût</th>
                        <th>Impact</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <!-- Section Admin -->
        <div id="admin" class="tab-content">
            <h2><i class="fas fa-cog icon"></i> Administration des Données</h2>
            
            <div class="admin-panel">
                <h3><i class="fas fa-database icon"></i> Gestion des Données</h3>
                
                <div class="admin-buttons">
                    <button id="export-all" class="admin"><i class="fas fa-file-export"></i> Exporter toutes les données</button>
                    <button id="import-all" class="admin"><i class="fas fa-file-import"></i> Importer des données</button>
                    <button id="reset-data" class="delete"><i class="fas fa-trash"></i> Réinitialiser toutes les données</button>
                </div>
                
                <div class="progress-container" style="margin-top: 15px;">
                    <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="admin-panel">
                <h3><i class="fas fa-file-code icon"></i> Fichiers JSON</h3>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-university"></i> Banques</h4>
                        <div>
                            <button class="export-btn" data-type="banks"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="banks" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="banks-json">Aucune donnée</div>
                </div>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-wallet"></i> Comptes</h4>
                        <div>
                            <button class="export-btn" data-type="accounts"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="accounts" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="accounts-json">Aucune donnée</div>
                </div>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-exchange-alt"></i> Virements</h4>
                        <div>
                            <button class="export-btn" data-type="transfers"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="transfers" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="transfers-json">Aucune donnée</div>
                </div>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-list-alt"></i> Transactions</h4>
                        <div>
                            <button class="export-btn" data-type="transactions"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="transactions" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="transactions-json">Aucune donnée</div>
                </div>
                
                <div class="data-section">
                    <div class="data-header">
                        <h4><i class="fas fa-chart-line"></i> Simulation</h4>
                        <div>
                            <button class="export-btn" data-type="simulation"><i class="fas fa-download"></i> Exporter</button>
                            <div class="file-input-container">
                                <button class="import-btn"><i class="fas fa-upload"></i> Importer</button>
                                <input type="file" class="file-input" data-type="simulation" accept=".json">
                            </div>
                        </div>
                    </div>
                    <div class="json-viewer" id="simulation-json">Aucune donnée</div>
                </div>
            </div>
        </div>
        
        <!-- Modals -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <div id="modal-body"></div>
                <div class="actions">
                    <button id="cancel">Annuler</button>
                    <button id="save">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Données de l'application
        const app = {
            // Données de base
            banks: [],
            accounts: [],
            transfers: [],
            transactions: [],
            timers: {},
            
            // Données de simulation
            simulation: {
                running: false,
                currentMonth: 1,
                intervalId: null,
                speed: 2000, // 2 secondes = 1 mois
                
                // Statistiques personnelles
                personal: {
                    salary: 2500,
                    livingExpenses: 1800,
                    randomEvents: true
                },
                
                // Statistiques d'entreprise
                business: {
                    employees: [],
                    equipment: [],
                    campaigns: [],
                    customers: 0,
                    baseRevenue: 5000,
                    performance: 1.0,
                    marketingImpact: 1.0
                },
                
                // Historique des événements
                events: []
            },
            
            // Types de comptes
            accountTypes: {
                personal: { name: "Personnel", color: "personal" },
                business: { name: "Professionnel", color: "business" },
                offshore: { name: "Offshore", color: "offshore" }
            },
            
            // Catégories de transactions
            transactionCategories: [
                "Salaire", "Dividendes", "Vente", "Achat", 
                "Loyer", "Fournisseur", "Impôt", "Autre",
                "Simulation"
            ],
            
            // Types d'employés
            employeeTypes: [
                { name: "Stagiaire", salary: 800, productivity: 0.5 },
                { name: "Employé", salary: 2000, productivity: 1.0 },
                { name: "Manager", salary: 3500, productivity: 1.5 },
                { name: "Directeur", salary: 5000, productivity: 2.0 }
            ],
            
            // Types d'équipement
            equipmentTypes: [
                { name: "Bureau", cost: 500, lifespan: 60, depreciation: 8.33 },
                { name: "Ordinateur", cost: 1200, lifespan: 36, depreciation: 33.33 },
                { name: "Véhicule", cost: 25000, lifespan: 120, depreciation: 208.33 },
                { name: "Machinerie", cost: 50000, lifespan: 120, depreciation: 416.67 }
            ],
            
            // Types de campagnes
            campaignTypes: [
                { name: "Réseaux sociaux", cost: 1000, duration: 3, impact: 0.2 },
                { name: "Publicité locale", cost: 3000, duration: 6, impact: 0.3 },
                { name: "Publicité nationale", cost: 10000, duration: 12, impact: 0.5 }
            ],
            
            // Initialisation
            init: function() {
                // Charger les données
                this.loadData();
                
                // Gestion des onglets
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', function() {
                        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                        
                        this.classList.add('active');
                        document.getElementById(this.dataset.tab).classList.add('active');
                        
                        // Mettre à jour la vue JSON si on est dans l'admin
                        if (this.dataset.tab === 'admin') {
                            app.updateJsonViewers();
                        }
                    });
                });
                
                // Filtres des comptes
                document.querySelectorAll('#accounts .filter-buttons button').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('#accounts .filter-buttons button').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        app.filterAccounts(this.dataset.filter);
                    });
                });
                
                // Filtres des transactions
                document.querySelectorAll('#transactions .filter-buttons button').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('#transactions .filter-buttons button').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        app.filterTransactions(this.dataset.filter);
                    });
                });
                
                // Boutons d'ajout
                document.getElementById('add-bank').addEventListener('click', () => this.showBankForm());
                document.getElementById('add-personal-account').addEventListener('click', () => this.showAccountForm('personal'));
                document.getElementById('add-business-account').addEventListener('click', () => this.showAccountForm('business'));
                document.getElementById('add-income').addEventListener('click', () => this.showTransactionForm());
                document.getElementById('add-transfer').addEventListener('click', () => this.showTransferForm());
                document.getElementById('add-offshore-transfer').addEventListener('click', () => this.showTransferForm('offshore'));
                
                // Boutons du modal
                document.getElementById('cancel').addEventListener('click', () => this.closeModal());
                document.getElementById('save').addEventListener('click', () => this.saveData());
                
                // Boutons de simulation
                document.getElementById('start-simulation').addEventListener('click', () => this.startSimulation());
                document.getElementById('pause-simulation').addEventListener('click', () => this.pauseSimulation());
                document.getElementById('stop-simulation').addEventListener('click', () => this.stopSimulation());
                document.getElementById('next-month').addEventListener('click', () => this.simulateMonth());
                
                // Boutons d'entreprise
                document.getElementById('hire-employee').addEventListener('click', () => this.showHireEmployeeForm());
                document.getElementById('buy-equipment').addEventListener('click', () => this.showBuyEquipmentForm());
                document.getElementById('launch-campaign').addEventListener('click', () => this.showLaunchCampaignForm());
                
                // Boutons d'administration
                document.getElementById('export-all').addEventListener('click', () => this.exportAllData());
                document.getElementById('import-all').addEventListener('click', () => document.getElementById('import-all-file').click());
                document.getElementById('reset-data').addEventListener('click', () => this.resetAllData());
                
                // Écouteurs pour les boutons d'export individuels
                document.querySelectorAll('.export-btn').forEach(btn => {
                    btn.addEventListener('click', () => this.exportData(btn.dataset.type));
                });
                
                // Écouteurs pour les imports de fichiers
                document.querySelectorAll('.file-input').forEach(input => {
                    input.addEventListener('change', (e) => this.importData(e.target.dataset.type, e.target.files[0]));
                });
                
                // Créer un input caché pour l'import global
                const importAllInput = document.createElement('input');
                importAllInput.type = 'file';
                importAllInput.id = 'import-all-file';
                importAllInput.accept = '.json';
                importAllInput.style.display = 'none';
                importAllInput.addEventListener('change', (e) => this.importAllData(e.target.files[0]));
                document.body.appendChild(importAllInput);
                
                // Démarrer les virements programmés
                this.startScheduledTransfers();
                
                // Mettre à jour les dashboards
                this.updateDashboards();
                
                // Mettre à jour l'affichage de la simulation
                this.updateSimulationDisplay();
            },
            
            // Charger les données depuis le localStorage
            loadData: function() {
                this.banks = JSON.parse(localStorage.getItem('banks')) || [];
                this.accounts = JSON.parse(localStorage.getItem('accounts')) || [];
                this.transfers = JSON.parse(localStorage.getItem('transfers')) || [];
                this.transactions = JSON.parse(localStorage.getItem('transactions')) || [];
                
                // Charger les données de simulation
                const savedSimulation = localStorage.getItem('simulation');
                if (savedSimulation) {
                    this.simulation = {
                        ...this.simulation,
                        ...JSON.parse(savedSimulation),
                        running: false,
                        intervalId: null
                    };
                }
            },
            
            // Sauvegarder les données dans le localStorage
            saveData: function() {
                localStorage.setItem('banks', JSON.stringify(this.banks));
                localStorage.setItem('accounts', JSON.stringify(this.accounts));
                localStorage.setItem('transfers', JSON.stringify(this.transfers));
                localStorage.setItem('transactions', JSON.stringify(this.transactions));
                localStorage.setItem('simulation', JSON.stringify(this.simulation));
            },
            
            // Mettre à jour les visualiseurs JSON
            updateJsonViewers: function() {
                document.getElementById('banks-json').textContent = JSON.stringify(this.banks, null, 2) || 'Aucune donnée';
                document.getElementById('accounts-json').textContent = JSON.stringify(this.accounts, null, 2) || 'Aucune donnée';
                document.getElementById('transfers-json').textContent = JSON.stringify(this.transfers, null, 2) || 'Aucune donnée';
                document.getElementById('transactions-json').textContent = JSON.stringify(this.transactions, null, 2) || 'Aucune donnée';
                document.getElementById('simulation-json').textContent = JSON.stringify(this.simulation, null, 2) || 'Aucune donnée';
            },
            
            // Exporter des données spécifiques
            exportData: function(type) {
                let data, filename;
                
                switch(type) {
                    case 'banks':
                        data = this.banks;
                        filename = 'banques.json';
                        break;
                    case 'accounts':
                        data = this.accounts;
                        filename = 'comptes.json';
                        break;
                    case 'transfers':
                        data = this.transfers;
                        filename = 'virements.json';
                        break;
                    case 'transactions':
                        data = this.transactions;
                        filename = 'transactions.json';
                        break;
                    case 'simulation':
                        data = this.simulation;
                        filename = 'simulation.json';
                        break;
                    default:
                        return;
                }
                
                const json = JSON.stringify(data, null, 2);
                const blob = new Blob([json], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            },
            
            // Exporter toutes les données
            exportAllData: function() {
                const allData = {
                    banks: this.banks,
                    accounts: this.accounts,
                    transfers: this.transfers,
                    transactions: this.transactions,
                    simulation: this.simulation
                };
                
                const json = JSON.stringify(allData, null, 2);
                const blob = new Blob([json], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = 'gestion_bancaire_data.json';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            },
            
            // Importer des données spécifiques
            importData: function(type, file) {
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const data = JSON.parse(e.target.result);
                        
                        switch(type) {
                            case 'banks':
                                this.banks = data;
                                break;
                            case 'accounts':
                                this.accounts = data;
                                break;
                            case 'transfers':
                                this.transfers = data;
                                // Redémarrer les virements
                                this.stopAllTransfers();
                                this.startScheduledTransfers();
                                break;
                            case 'transactions':
                                this.transactions = data;
                                break;
                            case 'simulation':
                                this.simulation = {
                                    ...this.simulation,
                                    ...data,
                                    running: false,
                                    intervalId: null
                                };
                                break;
                        }
                        
                        // Sauvegarder et mettre à jour
                        this.saveData();
                        this.loadData();
                        this.loadBanks();
                        this.loadAccounts();
                        this.loadTransfers();
                        this.loadTransactions();
                        this.updateDashboards();
                        this.updateSimulationDisplay();
                        this.updateJsonViewers();
                        
                        this.logEvent(`Données ${type} importées avec succès`);
                        this.showProgress(100, 'success');
                    } catch (error) {
                        console.error('Erreur lors de l\'import des données:', error);
                        this.logEvent(`Erreur lors de l'import des données ${type}: format invalide`);
                        this.showProgress(0, 'error');
                    }
                };
                
                reader.readAsText(file);
                this.showProgress(50, 'loading');
            },
            
            // Importer toutes les données
            importAllData: function(file) {
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const allData = JSON.parse(e.target.result);
                        
                        this.banks = allData.banks || [];
                        this.accounts = allData.accounts || [];
                        this.transfers = allData.transfers || [];
                        this.transactions = allData.transactions || [];
                        this.simulation = {
                            ...this.simulation,
                            ...(allData.simulation || {}),
                            running: false,
                            intervalId: null
                        };
                        
                        // Sauvegarder et mettre à jour
                        this.saveData();
                        this.loadData();
                        this.loadBanks();
                        this.loadAccounts();
                        this.loadTransfers();
                        this.loadTransactions();
                        this.updateDashboards();
                        this.updateSimulationDisplay();
                        this.updateJsonViewers();
                        
                        // Redémarrer les virements
                        this.stopAllTransfers();
                        this.startScheduledTransfers();
                        
                        this.logEvent('Toutes les données importées avec succès');
                        this.showProgress(100, 'success');
                    } catch (error) {
                        console.error('Erreur lors de l\'import des données:', error);
                        this.logEvent('Erreur lors de l\'import des données: format invalide');
                        this.showProgress(0, 'error');
                    }
                };
                
                reader.readAsText(file);
                this.showProgress(50, 'loading');
            },
            
            // Réinitialiser toutes les données
            resetAllData: function() {
                if (confirm('Êtes-vous sûr de vouloir réinitialiser toutes les données ? Cette action est irréversible.')) {
                    this.banks = [];
                    this.accounts = [];
                    this.transfers = [];
                    this.transactions = [];
                    
                    // Réinitialiser la simulation
                    this.simulation = {
                        running: false,
                        currentMonth: 1,
                        intervalId: null,
                        speed: 2000,
                        personal: {
                            salary: 2500,
                            livingExpenses: 1800,
                            randomEvents: true
                        },
                        business: {
                            employees: [],
                            equipment: [],
                            campaigns: [],
                            customers: 0,
                            baseRevenue: 5000,
                            performance: 1.0,
                            marketingImpact: 1.0
                        },
                        events: []
                    };
                    
                    // Arrêter la simulation
                    this.stopSimulation();
                    
                    // Arrêter tous les virements
                    this.stopAllTransfers();
                    
                    // Sauvegarder
                    this.saveData();
                    
                    // Recharger l'interface
                    this.loadBanks();
                    this.loadAccounts();
                    this.loadTransfers();
                    this.loadTransactions();
                    this.updateDashboards();
                    this.updateSimulationDisplay();
                    this.updateJsonViewers();
                    
                    // Vider le journal
                    document.getElementById('event-log').innerHTML = `
                        <div class="event-entry">
                            <div class="event-date">[Système]</div>
                            <div class="event-message">Données réinitialisées. Prêt à démarrer une nouvelle simulation.</div>
                        </div>
                    `;
                    
                    this.logEvent('Toutes les données ont été réinitialisées');
                }
            },
            
            // Afficher la progression
            showProgress: function(percent, status) {
                const progressBar = document.getElementById('progress-bar');
                progressBar.style.width = `${percent}%`;
                
                switch(status) {
                    case 'success':
                        progressBar.style.background = 'var(--success-color)';
                        break;
                    case 'error':
                        progressBar.style.background = 'var(--danger-color)';
                        break;
                    case 'loading':
                        progressBar.style.background = 'var(--primary-color)';
                        break;
                }
                
                if (percent === 100) {
                    setTimeout(() => {
                        progressBar.style.width = '0%';
                    }, 2000);
                }
            },
            
            // ... Le reste du code reste inchangé ...
            // Les fonctions de gestion bancaire, simulation, etc. sont identiques à la version précédente
            // Pour des raisons de place, je ne les ai pas réinsérées ici, mais elles doivent être conservées
        };
        
        // Initialiser l'application
        document.addEventListener('DOMContentLoaded', () => app.init());
        
        // Exposer l'objet app globalement pour les événements onclick
        window.app = app;
    </script>
</body>
</html>
